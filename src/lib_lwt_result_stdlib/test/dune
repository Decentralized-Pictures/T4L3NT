(executables
 (names
  test_hashtbl
  test_generic
  test_fuzzing_seq
  test_fuzzing_set
 )
 (libraries tezos-lwt-result-stdlib
            tezos-error-monad
            lwt.unix
            alcotest-lwt
            crowbar)
 (flags (:standard -open Tezos_lwt_result_stdlib)))

(alias
 (name buildtest)
 (deps
  test_hashtbl.exe
  test_generic.exe
  test_fuzzing_seq.exe
  test_fuzzing_set.exe
 ))

(rule
 (alias runtest_hashtbl)
 (action (run %{exe:test_hashtbl.exe})))
(rule
 (alias runtest_generic)
 (action (run %{exe:test_generic.exe})))
(rule
 (alias runtest_fuzzing_seq)
 (action (run %{exe:test_fuzzing_seq.exe})))
(rule
 (alias runtest_fuzzing_set)
 (action (run %{exe:test_fuzzing_set.exe})))

(rule
 (alias runtest)
 (package tezos-lwt-result-stdlib)
 (deps
  (alias runtest_hashtbl)
  (alias runtest_generic)
  (alias runtest_fuzzing_seq)
  (alias runtest_fuzzing_set)
 )
 (action (progn))
)
